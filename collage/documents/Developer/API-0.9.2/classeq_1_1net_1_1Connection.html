<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collage: eq::net::Connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><b>eq</b>      </li>
      <li><a class="el" href="namespaceeq_1_1net.html">net</a>      </li>
      <li><a class="el" href="classeq_1_1net_1_1Connection.html">Connection</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-types">Protected Types</a>  </div>
  <div class="headertitle">
<h1>eq::net::Connection Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="eq::net::Connection" -->
<p>An interface definition for communication between hosts.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">connection.h</a>&gt;</code></p>
<!-- startSectionHeader --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for eq::net::Connection:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-0-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection__inherit__graph.png" border="0" usemap="#eq_1_1net_1_1Connection_inherit__map" alt="Inheritance graph"/></div>
<map name="eq_1_1net_1_1Connection_inherit__map" id="eq_1_1net_1_1Connection_inherit__map">
<area shape="rect" id="node3" href="classeq_1_1net_1_1BufferConnection.html" title="A proxy connection buffering outgoing data into a memory region." alt="" coords="5,83,189,112"/><area shape="rect" id="node5" href="classeq_1_1net_1_1PairConnection.html" title="A meta connection consisting of two (unidirectional) connections providing bidirectional communicatio..." alt="" coords="213,83,384,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for eq::net::Connection:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-1-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection__coll__graph.png" border="0" usemap="#eq_1_1net_1_1Connection_coll__map" alt="Collaboration graph"/></div>
<map name="eq_1_1net_1_1Connection_coll__map" id="eq_1_1net_1_1Connection_coll__map">
<area shape="rect" id="node4" href="classeq_1_1net_1_1ConnectionListener.html" title="A listener interface to connection changes." alt="" coords="33,5,231,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classeq_1_1net_1_1Connection-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classeq_1_1net_1_1Connection.html#a827515f440f307f44fe204ea0aaffa63">Notifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a740690b3c0cf7d5a0b5d5c8af9fa3436">getNotifier</a> () const =0</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="af84cff95545e447caed7e56e7e6ed054"></a><!-- doxytag: member="eq::net::Connection::send" ref="af84cff95545e447caed7e56e7e6ed054" args="(Packet &amp;packet, const std::vector&lt; T &gt; &amp;data)" -->
template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>send</b> (<a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Data Access</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#ac39884df997c265ed18b1c913d3e9104">getState</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a6219202983c7970fa329958c53c1eae3">isClosed</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a02d4a11811ddd3d8f4eb0182a21e75b5">isConnected</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#ad867b0ffc956431f7fff0f46cd9f6dba">isListening</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#abc28d98af985c1bc2b8929b73b4e237b">setDescription</a> (<a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a> description)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the connection parameter description.  <a href="#abc28d98af985c1bc2b8929b73b4e237b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a8a67f37426395277ee86607c382ec1ab">getDescription</a> () const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Connection State Changes</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a4aed884972c42b62c510fe07dae6c7aa">connect</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the remote peer.  <a href="#a4aed884972c42b62c510fe07dae6c7aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#af43f7252d9885b9217ccc7581ba3a024">listen</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the connection into the listening state.  <a href="#af43f7252d9885b9217ccc7581ba3a024"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f2bfa0c224c35f895bce23e8b5677a9"></a><!-- doxytag: member="eq::net::Connection::close" ref="a7f2bfa0c224c35f895bce23e8b5677a9" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a7f2bfa0c224c35f895bce23e8b5677a9">close</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a connected or listening connection. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Listener Interface</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a4a65eacf3e200499e886327f21130620">addListener</a> (<a class="el" href="classeq_1_1net_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener for connection state changes.  <a href="#a4a65eacf3e200499e886327f21130620"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a0eae896c1823ff7414db3f1804e20d4d">removeListener</a> (<a class="el" href="classeq_1_1net_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a listener for connection state changes.  <a href="#a0eae896c1823ff7414db3f1804e20d4d"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous accept</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#aeeb74010c70170c2d0db731b4b4ade5c">acceptNB</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an accept operation.  <a href="#aeeb74010c70170c2d0db731b4b4ade5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceeq_1_1net.html#a9cb5770ed7f4c88b8c9c988be9adef34">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a6e230155b4757ec284f11bd1c3a3c724">acceptSync</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete an accept operation.  <a href="#a6e230155b4757ec284f11bd1c3a3c724"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous read</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#ab3663ed8776cab374988b25b02e25552">recvNB</a> (void *buffer, const uint64_t bytes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#ab3663ed8776cab374988b25b02e25552"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a868cd042e51e27f7151e24760497bd4c">recvSync</a> (void **buffer, uint64_t *bytes, const bool block=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a868cd042e51e27f7151e24760497bd4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a110ba6a839619623ca0e99077842e97a"></a><!-- doxytag: member="eq::net::Connection::getRecvData" ref="a110ba6a839619623ca0e99077842e97a" args="(void **buffer, uint64_t *bytes)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>getRecvData</b> (void **buffer, uint64_t *bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a9ab72957d06fde04433799e7b800b086">readNB</a> (void *buffer, const uint64_t bytes)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#a9ab72957d06fde04433799e7b800b086"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a808d10564069719242bafd752c2b4dce">readSync</a> (void *buffer, const uint64_t bytes, const bool block)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a808d10564069719242bafd752c2b4dce"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceeq_1_1net.html#a9cb5770ed7f4c88b8c9c988be9adef34">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a52e2e31fbca0feb085ac1e4fa0e1efe9">create</a> (<a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a> description)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection.  <a href="#a52e2e31fbca0feb085ac1e4fa0e1efe9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">State</a> { <br/>
&#160;&#160;<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9a276e021df75d1ea8f90be1a3805968a6">STATE_CLOSED</a>, 
<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9a7075a6018475f3561ae6561f5506487c">STATE_CONNECTING</a>, 
<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9a4cdfbacabb0a1a21ce1670331e63b736">STATE_CONNECTED</a>, 
<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9ab47832d8d507c1e62b7e4d8936945e81">STATE_LISTENING</a>, 
<br/>
&#160;&#160;<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9aced5abf4cf4e17ab546fbaa32dc2291b">STATE_CLOSING</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>The current state of the <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. </p>
 <a href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a827515f440f307f44fe204ea0aaffa63"></a><!-- doxytag: member="eq::net::Connection::Notifier" ref="a827515f440f307f44fe204ea0aaffa63" args="" -->
typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a827515f440f307f44fe204ea0aaffa63">Notifier</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The Notifier used by the <a class="el" href="classeq_1_1net_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> to detect readiness of a <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed1c521d22ee3a208a387d82b2e55d5b"></a><!-- doxytag: member="eq::net::Connection::_fireStateChanged" ref="aed1c521d22ee3a208a387d82b2e55d5b" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>_fireStateChanged</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d682088b5c1322d518215c3823439cf"></a><!-- doxytag: member="eq::net::Connection::_state" ref="a1d682088b5c1322d518215c3823439cf" args="" -->
<a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a1d682088b5c1322d518215c3823439cf">_state</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6a9a9fd917db62c7ef526c5b3d66bed"></a><!-- doxytag: member="eq::net::Connection::_description" ref="ac6a9a9fd917db62c7ef526c5b3d66bed" args="" -->
<a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#ac6a9a9fd917db62c7ef526c5b3d66bed">_description</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection parameters. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">base::Lock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a0a5167c8b05edebeb13a05ccb8670cf2">_sendLock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The lock used to protect multiple write calls.  <a href="#a0a5167c8b05edebeb13a05ccb8670cf2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>ReadStatus</b> { <b>READ_TIMEOUT</b> =  -2, 
<b>READ_ERROR</b> =  -1
 }</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Synchronous write to the connection</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a2c1dc237999b9697e49ed945abd51f8b">send</a> (const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;connections, const <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message to multiple connections.  <a href="#a2c1dc237999b9697e49ed945abd51f8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a40e07f462d2a9d12a6ee8ba15df9bda7">send</a> (const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;connections, <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data to multiple connections.  <a href="#a40e07f462d2a9d12a6ee8ba15df9bda7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a0ede69b99f1ead038a39643c4dc1655e">send</a> (const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;connections, <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const void *const *items, const uint64_t *itemSizes, const size_t nItems)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional, multiple data items to multiple connections.  <a href="#a0ede69b99f1ead038a39643c4dc1655e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a03221e8daaf10e88abc83cac1f9c1f5d">send</a> (const void *buffer, const uint64_t bytes, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data using the connection.  <a href="#a03221e8daaf10e88abc83cac1f9c1f5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a736a32bb334c0685520622711478950b">lockSend</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the connection, no other thread can send data.  <a href="#a736a32bb334c0685520622711478950b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a73c8739f2c238d68e0979b32ca157814">unlockSend</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the connection.  <a href="#a73c8739f2c238d68e0979b32ca157814"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#aa1d6ca8d891b4a3511ae02d76294a772">send</a> (const <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message using the connection.  <a href="#aa1d6ca8d891b4a3511ae02d76294a772"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#aa0f11d930f258526ebbe1712fe791ed3">send</a> (<a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const std::string &amp;string)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including a string using the connection.  <a href="#aa0f11d930f258526ebbe1712fe791ed3"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#af84cff95545e447caed7e56e7e6ed054">send</a> (<a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data.  <a href="#af84cff95545e447caed7e56e7e6ed054"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a72f23494a5c5712c7cbc208edcb12ca1">send</a> (<a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data using the connection.  <a href="#a72f23494a5c5712c7cbc208edcb12ca1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeq_1_1net_1_1Connection.html#a5dccd91faa7eb9c7d2f40bd25a07c8a0">write</a> (const void *buffer, const uint64_t bytes)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the connection.  <a href="#a5dccd91faa7eb9c7d2f40bd25a07c8a0"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An interface definition for communication between hosts. </p>
<p>Connections are stream-oriented point-to-point communications. The parameters of a <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> are described in a <a class="el" href="classeq_1_1net_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a>, which is used in <a class="el" href="classeq_1_1net_1_1Connection.html#af43f7252d9885b9217ccc7581ba3a024" title="Put the connection into the listening state.">listen()</a> and <a class="el" href="classeq_1_1net_1_1Connection.html#a4aed884972c42b62c510fe07dae6c7aa" title="Connect to the remote peer.">connect()</a>. A <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> has a State, which changes when calling <a class="el" href="classeq_1_1net_1_1Connection.html#af43f7252d9885b9217ccc7581ba3a024" title="Put the connection into the listening state.">listen()</a>, <a class="el" href="classeq_1_1net_1_1Connection.html#a4aed884972c42b62c510fe07dae6c7aa" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classeq_1_1net_1_1Connection.html#a7f2bfa0c224c35f895bce23e8b5677a9" title="Close a connected or listening connection.">close()</a>, or whenever the underlying connection is closed by the operating system.</p>
<p>The <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> class defines the interface for connections, various derived classes implement it for various low-level communication protocols, e.g., SocketConnection for TCP/IP. An implementation may not implement all the functionality defined in this interface.</p>
<p>The <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> is used reference-counted in <a class="el" href="namespaceeq_1_1net.html" title="Equalizer network layer.">eq::net</a>, since it has multiple owners, such as the <a class="el" href="classeq_1_1net_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> and <a class="el" href="classeq_1_1net_1_1Node.html" title="Manages a node.">Node</a>. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00066">66</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9"></a><!-- doxytag: member="eq::net::Connection::State" ref="a18b1007d9fa938659675fc0558c70bf9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">eq::net::Connection::State</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The current state of the <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9a276e021df75d1ea8f90be1a3805968a6"></a><!-- doxytag: member="STATE_CLOSED" ref="a18b1007d9fa938659675fc0558c70bf9a276e021df75d1ea8f90be1a3805968a6" args="" -->STATE_CLOSED</em>&nbsp;</td><td>
<p>Closed, initial state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9a7075a6018475f3561ae6561f5506487c"></a><!-- doxytag: member="STATE_CONNECTING" ref="a18b1007d9fa938659675fc0558c70bf9a7075a6018475f3561ae6561f5506487c" args="" -->STATE_CONNECTING</em>&nbsp;</td><td>
<p>A <a class="el" href="classeq_1_1net_1_1Connection.html#a4aed884972c42b62c510fe07dae6c7aa" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classeq_1_1net_1_1Connection.html#af43f7252d9885b9217ccc7581ba3a024" title="Put the connection into the listening state.">listen()</a> is in progress. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9a4cdfbacabb0a1a21ce1670331e63b736"></a><!-- doxytag: member="STATE_CONNECTED" ref="a18b1007d9fa938659675fc0558c70bf9a4cdfbacabb0a1a21ce1670331e63b736" args="" -->STATE_CONNECTED</em>&nbsp;</td><td>
<p>The connection has been connected and is open. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9ab47832d8d507c1e62b7e4d8936945e81"></a><!-- doxytag: member="STATE_LISTENING" ref="a18b1007d9fa938659675fc0558c70bf9ab47832d8d507c1e62b7e4d8936945e81" args="" -->STATE_LISTENING</em>&nbsp;</td><td>
<p>The connection is listening for connects. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a18b1007d9fa938659675fc0558c70bf9aced5abf4cf4e17ab546fbaa32dc2291b"></a><!-- doxytag: member="STATE_CLOSING" ref="a18b1007d9fa938659675fc0558c70bf9aced5abf4cf4e17ab546fbaa32dc2291b" args="" -->STATE_CLOSING</em>&nbsp;</td><td>
<p>A <a class="el" href="classeq_1_1net_1_1Connection.html#a7f2bfa0c224c35f895bce23e8b5677a9" title="Close a connected or listening connection.">close()</a> is in progress. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00069">69</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aeeb74010c70170c2d0db731b4b4ade5c"></a><!-- doxytag: member="eq::net::Connection::acceptNB" ref="aeeb74010c70170c2d0db731b4b4ade5c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void eq::net::Connection::acceptNB </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start an accept operation. </p>
<p>This method returns immediately. The Notifier will signal a new connection request, upon which <a class="el" href="classeq_1_1net_1_1Connection.html#a6e230155b4757ec284f11bd1c3a3c724" title="Complete an accept operation.">acceptSync()</a> should be used to finish the accept operation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classeq_1_1net_1_1Connection.html#a6e230155b4757ec284f11bd1c3a3c724" title="Complete an accept operation.">acceptSync()</a> </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00166">166</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6e230155b4757ec284f11bd1c3a3c724"></a><!-- doxytag: member="eq::net::Connection::acceptSync" ref="a6e230155b4757ec284f11bd1c3a3c724" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespaceeq_1_1net.html#a9cb5770ed7f4c88b8c9c988be9adef34">ConnectionPtr</a> eq::net::Connection::acceptSync </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Complete an accept operation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new connection, 0 on error. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00173">173</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4a65eacf3e200499e886327f21130620"></a><!-- doxytag: member="eq::net::Connection::addListener" ref="a4a65eacf3e200499e886327f21130620" args="(ConnectionListener *listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::addListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeq_1_1net_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"> <em>listener</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="a4aed884972c42b62c510fe07dae6c7aa"></a><!-- doxytag: member="eq::net::Connection::connect" ref="a4aed884972c42b62c510fe07dae6c7aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool eq::net::Connection::connect </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connect to the remote peer. </p>
<p>The <a class="el" href="classeq_1_1net_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the peer's parameters.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the connection was successfully connected, <code>false</code> if not. </dd></dl>

<p>Reimplemented in <a class="el" href="classeq_1_1net_1_1PairConnection.html#a25e543c2589d4a92c43f900426e1e084">eq::net::PairConnection</a>.</p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00127">127</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52e2e31fbca0feb085ac1e4fa0e1efe9"></a><!-- doxytag: member="eq::net::Connection::create" ref="a52e2e31fbca0feb085ac1e4fa0e1efe9" args="(ConnectionDescriptionPtr description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespaceeq_1_1net.html#a9cb5770ed7f4c88b8c9c988be9adef34">ConnectionPtr</a> eq::net::Connection::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"> <em>description</em>&#160;)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new connection. </p>
<p>This factory method creates a new concrete connection for the requested type. The description is set on the created <a class="el" href="classeq_1_1net_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a8a67f37426395277ee86607c382ec1ab"></a><!-- doxytag: member="eq::net::Connection::getDescription" ref="a8a67f37426395277ee86607c382ec1ab" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a> eq::net::Connection::getDescription </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the description for this connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a740690b3c0cf7d5a0b5d5c8af9fa3436"></a><!-- doxytag: member="eq::net::Connection::getNotifier" ref="a740690b3c0cf7d5a0b5d5c8af9fa3436" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classeq_1_1net_1_1Connection.html#a827515f440f307f44fe204ea0aaffa63">Notifier</a> eq::net::Connection::getNotifier </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the notifier signaling events on the connection. </dd></dl>

<p>Implemented in <a class="el" href="classeq_1_1net_1_1BufferConnection.html#aaec823f8c5bb86ccbdbe424147bce7fd">eq::net::BufferConnection</a>, and <a class="el" href="classeq_1_1net_1_1PairConnection.html#aee2c41107acfd2509668a9cf703108d5">eq::net::PairConnection</a>.</p>

</div>
</div>
<a class="anchor" id="ac39884df997c265ed18b1c913d3e9104"></a><!-- doxytag: member="eq::net::Connection::getState" ref="ac39884df997c265ed18b1c913d3e9104" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9">State</a> eq::net::Connection::getState </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the State of this connection. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00093">93</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a1d682088b5c1322d518215c3823439cf">_state</a>.</p>

</div>
</div>
<a class="anchor" id="a6219202983c7970fa329958c53c1eae3"></a><!-- doxytag: member="eq::net::Connection::isClosed" ref="a6219202983c7970fa329958c53c1eae3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::isClosed </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the closed state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00096">96</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a1d682088b5c1322d518215c3823439cf">_state</a>, and <a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9a276e021df75d1ea8f90be1a3805968a6">STATE_CLOSED</a>.</p>

</div>
</div>
<a class="anchor" id="a02d4a11811ddd3d8f4eb0182a21e75b5"></a><!-- doxytag: member="eq::net::Connection::isConnected" ref="a02d4a11811ddd3d8f4eb0182a21e75b5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::isConnected </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the connected state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00099">99</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a1d682088b5c1322d518215c3823439cf">_state</a>, and <a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9a4cdfbacabb0a1a21ce1670331e63b736">STATE_CONNECTED</a>.</p>

</div>
</div>
<a class="anchor" id="ad867b0ffc956431f7fff0f46cd9f6dba"></a><!-- doxytag: member="eq::net::Connection::isListening" ref="ad867b0ffc956431f7fff0f46cd9f6dba" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::isListening </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the listening state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00102">102</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a1d682088b5c1322d518215c3823439cf">_state</a>, and <a class="el" href="classeq_1_1net_1_1Connection.html#a18b1007d9fa938659675fc0558c70bf9ab47832d8d507c1e62b7e4d8936945e81">STATE_LISTENING</a>.</p>

</div>
</div>
<a class="anchor" id="af43f7252d9885b9217ccc7581ba3a024"></a><!-- doxytag: member="eq::net::Connection::listen" ref="af43f7252d9885b9217ccc7581ba3a024" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool eq::net::Connection::listen </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put the connection into the listening state. </p>
<p>The <a class="el" href="classeq_1_1net_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the listening parameters.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the connection is listening for new incoming connections, <code>false</code> if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00138">138</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a736a32bb334c0685520622711478950b"></a><!-- doxytag: member="eq::net::Connection::lockSend" ref="a736a32bb334c0685520622711478950b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::lockSend </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock the connection, no other thread can send data. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00263">263</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a0a5167c8b05edebeb13a05ccb8670cf2">_sendLock</a>.</p>

</div>
</div>
<a class="anchor" id="a9ab72957d06fde04433799e7b800b086"></a><!-- doxytag: member="eq::net::Connection::readNB" ref="a9ab72957d06fde04433799e7b800b086" args="(void *buffer, const uint64_t bytes)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void eq::net::Connection::readNB </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classeq_1_1net_1_1Connection.html#ab3663ed8776cab374988b25b02e25552" title="Start a read operation on the connection.">recvNB()</a>.</p>
<p>This function returns immediately. The operation's Notifier will signal data availability, upon which <a class="el" href="classeq_1_1net_1_1Connection.html#a808d10564069719242bafd752c2b4dce" title="Finish reading data from the connection.">readSync()</a> should be used to finish the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classeq_1_1net_1_1Connection.html#a808d10564069719242bafd752c2b4dce" title="Finish reading data from the connection.">readSync()</a> </dd></dl>

<p>Implemented in <a class="el" href="classeq_1_1net_1_1BufferConnection.html#acf248bf86861d4fe3bebad68fc18973a">eq::net::BufferConnection</a>, and <a class="el" href="classeq_1_1net_1_1PairConnection.html#ac0bad7386943b784b81df7bdea81204b">eq::net::PairConnection</a>.</p>

</div>
</div>
<a class="anchor" id="a808d10564069719242bafd752c2b4dce"></a><!-- doxytag: member="eq::net::Connection::readSync" ref="a808d10564069719242bafd752c2b4dce" args="(void *buffer, const uint64_t bytes, const bool block)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t eq::net::Connection::readSync </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> <em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classeq_1_1net_1_1Connection.html#a868cd042e51e27f7151e24760497bd4c" title="Finish reading data from the connection.">recvSync()</a>. It may return with a partial read.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, ignore it in the implementation unless you know exactly why not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classeq_1_1net_1_1BufferConnection.html#a4ee5cac9c092041ada039569e65fb5f4">eq::net::BufferConnection</a>, and <a class="el" href="classeq_1_1net_1_1PairConnection.html#a517a5d47ff43df4f1e3aab831ffcdc87">eq::net::PairConnection</a>.</p>

</div>
</div>
<a class="anchor" id="ab3663ed8776cab374988b25b02e25552"></a><!-- doxytag: member="eq::net::Connection::recvNB" ref="ab3663ed8776cab374988b25b02e25552" args="(void *buffer, const uint64_t bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::recvNB </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This function returns immediately. The Notifier will signal data availability, upon which <a class="el" href="classeq_1_1net_1_1Connection.html#a868cd042e51e27f7151e24760497bd4c" title="Finish reading data from the connection.">recvSync()</a> should be used to finish the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classeq_1_1net_1_1Connection.html#a868cd042e51e27f7151e24760497bd4c" title="Finish reading data from the connection.">recvSync()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a868cd042e51e27f7151e24760497bd4c"></a><!-- doxytag: member="eq::net::Connection::recvSync" ref="a868cd042e51e27f7151e24760497bd4c" args="(void **buffer, uint64_t *bytes, const bool block=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::recvSync </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> <em>block</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This function may block even if data availability was signaled, i.e., when only a part of the data requested has been received. The buffer and bytes return value pointers can be 0. This method uses <a class="el" href="classeq_1_1net_1_1Connection.html#a9ab72957d06fde04433799e7b800b086" title="Start a read operation on the connection.">readNB()</a> and <a class="el" href="classeq_1_1net_1_1Connection.html#a808d10564069719242bafd752c2b4dce" title="Finish reading data from the connection.">readSync()</a> to fill a buffer, potentially by using multiple reads.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>return value, the buffer pointer passed to <a class="el" href="classeq_1_1net_1_1Connection.html#ab3663ed8776cab374988b25b02e25552" title="Start a read operation on the connection.">recvNB()</a>. </td></tr>
    <tr><td class="paramname">bytes</td><td>return value, the number of bytes read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, do not use unless you know exactly why. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all requested data has been read, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0eae896c1823ff7414db3f1804e20d4d"></a><!-- doxytag: member="eq::net::Connection::removeListener" ref="a0eae896c1823ff7414db3f1804e20d4d" args="(ConnectionListener *listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::removeListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeq_1_1net_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"> <em>listener</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="a72f23494a5c5712c7cbc208edcb12ca1"></a><!-- doxytag: member="eq::net::Connection::send" ref="a72f23494a5c5712c7cbc208edcb12ca1" args="(Packet &amp;packet, const void *data, const uint64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data using the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="a40e07f462d2a9d12a6ee8ba15df9bda7"></a><!-- doxytag: member="eq::net::Connection::send" ref="a40e07f462d2a9d12a6ee8ba15df9bda7" args="(const Connections &amp;connections, Packet &amp;packet, const void *data, const uint64_t size, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;&#160;</td>
          <td class="paramname"> <em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> <em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data to multiple connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="aa1d6ca8d891b4a3511ae02d76294a772"></a><!-- doxytag: member="eq::net::Connection::send" ref="aa1d6ca8d891b4a3511ae02d76294a772" args="(const Packet &amp;packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>&#160;)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message using the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00273">273</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#aa1d6ca8d891b4a3511ae02d76294a772">send()</a>, and <a class="el" href="structeq_1_1net_1_1Packet.html#aef7bd4f64a38586d022b26d214b378bf">eq::net::Packet::size</a>.</p>

<p>Referenced by <a class="el" href="classeq_1_1net_1_1Connection.html#aa1d6ca8d891b4a3511ae02d76294a772">send()</a>.</p>

<p><!-- startSectionHeader --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-2-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_cgraph.png" border="0" usemap="#classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_cgraph" alt=""/></div>
<map name="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_cgraph" id="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_cgraph">
</map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-3-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_icgraph.png" border="0" usemap="#classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_icgraph" alt=""/></div>
<map name="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_icgraph" id="classeq_1_1net_1_1Connection_aa1d6ca8d891b4a3511ae02d76294a772_icgraph">
</map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="af84cff95545e447caed7e56e7e6ed054"></a><!-- doxytag: member="eq::net::Connection::send" ref="af84cff95545e447caed7e56e7e6ed054" args="(Packet &amp;packet, const std::vector&lt; T &gt; &amp;data)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data. </p>
<p>The last item of the packet has to be able to hold one item or eight bytes of the data, whatever is bigger.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the vector containing the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00009">9</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ede69b99f1ead038a39643c4dc1655e"></a><!-- doxytag: member="eq::net::Connection::send" ref="a0ede69b99f1ead038a39643c4dc1655e" args="(const Connections &amp;connections, Packet &amp;packet, const void *const *items, const uint64_t *itemSizes, const size_t nItems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;&#160;</td>
          <td class="paramname"> <em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *const *&#160;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"> <em>itemSizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"> <em>nItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional, multiple data items to multiple connections. </p>
<p>Automatically locks each individual connection during send. The data items are appended to the packet individually as a 8-byte size token followed by size bytes data. The packet.size is updated to the size of all data send (packet + sizes + items).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">items</td><td>a pointer array to the data items. </td></tr>
    <tr><td class="paramname">itemSizes</td><td>an array containing the size of each item. </td></tr>
    <tr><td class="paramname">nItems</td><td>the number of data elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="a03221e8daaf10e88abc83cac1f9c1f5d"></a><!-- doxytag: member="eq::net::Connection::send" ref="a03221e8daaf10e88abc83cac1f9c1f5d" args="(const void *buffer, const uint64_t bytes, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> <em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send data using the connection. </p>
<p>A send may be performed using multiple <a class="el" href="classeq_1_1net_1_1Connection.html#a5dccd91faa7eb9c7d2f40bd25a07c8a0" title="Write data to the connection.">write()</a> operations. For thread-safe sending from multiple threads it is therefore crucial to protect the <a class="el" href="classeq_1_1net_1_1Connection.html#a03221e8daaf10e88abc83cac1f9c1f5d" title="Send data using the connection.">send()</a> operation internally. If the connection is not already locked externally, it will use an internal mutex.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to send. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classeq_1_1net_1_1Connection.html#a736a32bb334c0685520622711478950b" title="Lock the connection, no other thread can send data.">lockSend()</a>, <a class="el" href="classeq_1_1net_1_1Connection.html#a73c8739f2c238d68e0979b32ca157814" title="Unlock the connection.">unlockSend()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2c1dc237999b9697e49ed945abd51f8b"></a><!-- doxytag: member="eq::net::Connection::send" ref="a2c1dc237999b9697e49ed945abd51f8b" args="(const Connections &amp;connections, const Packet &amp;packet, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceeq_1_1net.html#abf5758af4d1114221b183aa26b50c6a7">Connections</a> &amp;&#160;</td>
          <td class="paramname"> <em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"> <em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message to multiple connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all connections. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0f11d930f258526ebbe1712fe791ed3"></a><!-- doxytag: member="eq::net::Connection::send" ref="aa0f11d930f258526ebbe1712fe791ed3" args="(Packet &amp;packet, const std::string &amp;string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eq::net::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structeq_1_1net_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"> <em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including a string using the connection. </p>
<p>The packet has to define a 8-byte-aligned, 8-char string at the end of the packet. When the packet is sent the whole string is appended to the packet, so that the receiver has to do nothing special to receive and use the full packet.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">string</td><td>the string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00288">288</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#aa0f11d930f258526ebbe1712fe791ed3">send()</a>.</p>

<p>Referenced by <a class="el" href="classeq_1_1net_1_1Connection.html#aa0f11d930f258526ebbe1712fe791ed3">send()</a>.</p>

<p><!-- startSectionHeader --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-4-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_cgraph.png" border="0" usemap="#classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_cgraph" alt=""/></div>
<map name="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_cgraph" id="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_cgraph">
</map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-5-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_icgraph.png" border="0" usemap="#classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_icgraph" alt=""/></div>
<map name="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_icgraph" id="classeq_1_1net_1_1Connection_aa0f11d930f258526ebbe1712fe791ed3_icgraph">
</map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="abc28d98af985c1bc2b8929b73b4e237b"></a><!-- doxytag: member="eq::net::Connection::setDescription" ref="abc28d98af985c1bc2b8929b73b4e237b" args="(ConnectionDescriptionPtr description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::setDescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceeq_1_1net.html#aa555c20777ccb169cb593cf31c53bece">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"> <em>description</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the connection parameter description. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73c8739f2c238d68e0979b32ca157814"></a><!-- doxytag: member="eq::net::Connection::unlockSend" ref="a73c8739f2c238d68e0979b32ca157814" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eq::net::Connection::unlockSend </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock the connection. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00265">265</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classeq_1_1net_1_1Connection.html#a0a5167c8b05edebeb13a05ccb8670cf2">_sendLock</a>.</p>

</div>
</div>
<a class="anchor" id="a5dccd91faa7eb9c7d2f40bd25a07c8a0"></a><!-- doxytag: member="eq::net::Connection::write" ref="a5dccd91faa7eb9c7d2f40bd25a07c8a0" args="(const void *buffer, const uint64_t bytes)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t eq::net::Connection::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"> <em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes written, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classeq_1_1net_1_1BufferConnection.html#ae19d780ae69a280f4beaeb26d3c9703f">eq::net::BufferConnection</a>, and <a class="el" href="classeq_1_1net_1_1PairConnection.html#ac350382a849551ddcd63fbb434b2f91c">eq::net::PairConnection</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0a5167c8b05edebeb13a05ccb8670cf2"></a><!-- doxytag: member="eq::net::Connection::_sendLock" ref="a0a5167c8b05edebeb13a05ccb8670cf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">base::Lock <a class="el" href="classeq_1_1net_1_1Connection.html#a0a5167c8b05edebeb13a05ccb8670cf2">eq::net::Connection::_sendLock</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The lock used to protect multiple write calls. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00395">395</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>Referenced by <a class="el" href="classeq_1_1net_1_1Connection.html#a736a32bb334c0685520622711478950b">lockSend()</a>, and <a class="el" href="classeq_1_1net_1_1Connection.html#a73c8739f2c238d68e0979b32ca157814">unlockSend()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="connection_8h_source.html">connection.h</a></li>
<li><a class="el" href="connection_8ipp_source.html">connection.ipp</a></li>
</ul>
</div>
<address style="text-align: right;">
  <small>Generated on Sat Dec 18 2010 15:02:22 for 
    <a href="/index.html"><img src="/images/Collage.png" 
                               alt="Collage" align="middle" 
                               border="0"></a> 0.1 by&nbsp;
    <a href="http://www.doxygen.org/index.html">
      <img src="doxygen.png" alt="doxygen" align="middle" border="0">
    </a> 1.7.2 
  </small>
</address>
</body>
</html>

