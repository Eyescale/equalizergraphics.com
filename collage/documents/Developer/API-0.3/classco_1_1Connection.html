<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collage: co::Connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Collage&#160;<span id="projectnumber">0.3</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceco.html">co</a>      </li>
      <li class="navelem"><a class="el" href="classco_1_1Connection.html">Connection</a>      </li>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-types">Protected Types</a>  </div>
  <div class="headertitle">
<h1>co::Connection Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="co::Connection" --><!-- doxytag: inherits="co::base::Referenced,co::base::NonCopyable" -->
<p>An interface definition for communication between hosts.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">connection.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for co::Connection:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection__inherit__graph.png" border="0" usemap="#co_1_1Connection_inherit__map" alt="Inheritance graph"/></div>
<map name="co_1_1Connection_inherit__map" id="co_1_1Connection_inherit__map">
<area shape="rect" id="node7" href="classco_1_1BufferConnection.html" title="A proxy connection buffering outgoing data into a memory region." alt="" coords="97,160,252,189"/><area shape="rect" id="node2" href="classco_1_1base_1_1Referenced.html" title="Base class for referenced objects." alt="" coords="5,5,160,35"/><area shape="rect" id="node4" href="classco_1_1base_1_1NonCopyable.html" title="Base class to make objects non&#45;copyable." alt="" coords="184,5,352,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for co::Connection:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection__coll__graph.png" border="0" usemap="#co_1_1Connection_coll__map" alt="Collaboration graph"/></div>
<map name="co_1_1Connection_coll__map" id="co_1_1Connection_coll__map">
<area shape="rect" id="node2" href="classco_1_1base_1_1Referenced.html" title="Base class for referenced objects." alt="" coords="305,99,460,128"/><area shape="rect" id="node17" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters." alt="" coords="584,59,773,88"/><area shape="rect" id="node4" href="classco_1_1base_1_1Atomic.html" title="co::base::Atomic\&lt; long \&gt;" alt="" coords="5,99,192,128"/><area shape="rect" id="node6" href="classco_1_1base_1_1NonCopyable.html" title="Base class to make objects non&#45;copyable." alt="" coords="595,188,763,217"/><area shape="rect" id="node12" href="classco_1_1base_1_1Lock.html" title="A lock (mutex) primitive." alt="" coords="975,213,1087,243"/><area shape="rect" id="node10" href="classco_1_1ConnectionListener.html" title="A listener interface to connection changes." alt="" coords="595,267,763,296"/><area shape="rect" id="node15" href="classco_1_1base_1_1RefPtr.html" title="co::base::RefPtr\&lt; ConnectionDescription \&gt;" alt="" coords="883,59,1179,88"/><area shape="rect" id="node20" title="STL class." alt="" coords="340,33,425,63"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classco_1_1Connection-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a55c29bda54df50cb4bac0ce35b08db61">getNotifier</a> () const =0</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a04fbc4ef10e8ec5fd33ba499cc4a5885"></a><!-- doxytag: member="co::Connection::send" ref="a04fbc4ef10e8ec5fd33ba499cc4a5885" args="(Packet &amp;packet, const std::vector&lt; T &gt; &amp;data)" -->
template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>send</b> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Data Access</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#abb14cb3ff5222062a7d2e68ac8a38c0a">getState</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ae8aa84a77b1b7288d686b4b4a58bc611">isClosed</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa3467ce39ac68d2add5b9168676d66db">isConnected</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a340c6fb3736456cb1f344da26588caae">isListening</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ab7dfa315b0f95e19732cad4f23f678e9">setDescription</a> (<a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a> description)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the connection parameter description.  <a href="#ab7dfa315b0f95e19732cad4f23f678e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a58edf5d69591594aa8826c2aad2a59db">getDescription</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a612510c2b6ab6e1a118d978bf698e774"></a><!-- doxytag: member="co::Connection::operator==" ref="a612510c2b6ab6e1a118d978bf698e774" args="(const Connection &amp;rhs) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const <a class="el" href="classco_1_1Connection.html">Connection</a> &amp;rhs) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Connection State Changes</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184">connect</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the remote peer.  <a href="#a86dbe1ac7ecbc4baf1aa0427a9da1184"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b">listen</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the connection into the listening state.  <a href="#a4d0c190e88d3763666bbd9f6ffdc320b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a539fe42f7056fb3932139f3e95b050fb"></a><!-- doxytag: member="co::Connection::close" ref="a539fe42f7056fb3932139f3e95b050fb" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb">close</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a connected or listening connection. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Listener Interface</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a0b73910e1ab5eb1eb4bba6f93cf42a17">addListener</a> (<a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener for connection state changes.  <a href="#a0b73910e1ab5eb1eb4bba6f93cf42a17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a340d6578ed0dd9c4462575b78e8b53e3">removeListener</a> (<a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a listener for connection state changes.  <a href="#a340d6578ed0dd9c4462575b78e8b53e3"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous accept</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa770ca400361be45e38fe49c220df3fd">acceptNB</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an accept operation.  <a href="#aa770ca400361be45e38fe49c220df3fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a">acceptSync</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete an accept operation.  <a href="#a8d6d5b7070d58f849e2d875ff692455a"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous read</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30">recvNB</a> (void *buffer, const uint64_t bytes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#aa108aa861672f7016a4abf0d8a365a30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af">recvSync</a> (void **buffer, uint64_t *bytes, const bool block=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a5ab2ef4b6d2a9af3c1af839b636bb2af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8a4681d9a76c2de7e9a96c63d5b3763"></a><!-- doxytag: member="co::Connection::getRecvData" ref="ad8a4681d9a76c2de7e9a96c63d5b3763" args="(void **buffer, uint64_t *bytes)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>getRecvData</b> (void **buffer, uint64_t *bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a9d51b4f926adc20c850ead432f8715c3">readNB</a> (void *buffer, const uint64_t bytes)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#a9d51b4f926adc20c850ead432f8715c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7">readSync</a> (void *buffer, const uint64_t bytes, const bool block)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a56c11cedd911361f2a3a4b989ddd08a7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CO_API <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a1878e46b53111fe973c7f1c568024084">create</a> (<a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a> description)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection.  <a href="#a1878e46b53111fe973c7f1c568024084"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a> { <br/>
&#160;&#160;<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c">STATE_CLOSED</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43ad3c63eb66f6623ff2d5f460db6e08259">STATE_CONNECTING</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3">STATE_CONNECTED</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694">STATE_LISTENING</a>, 
<br/>
&#160;&#160;<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a8a128bf2c7c80c0d64c77c46021ef2d5">STATE_CLOSING</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>The current state of the <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. </p>
 <a href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85ae0b69f0dc3996ae79809fa21703f6"></a><!-- doxytag: member="co::Connection::Notifier" ref="a85ae0b69f0dc3996ae79809fa21703f6" args="" -->
typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The Notifier used by the <a class="el" href="classco_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> to detect readiness of a <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa94021ce537c08300aab8e68284f2fd2"></a><!-- doxytag: member="co::Connection::_fireStateChanged" ref="aa94021ce537c08300aab8e68284f2fd2" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>_fireStateChanged</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa81510c900a1eba047d62d58f8f38fef"></a><!-- doxytag: member="co::Connection::_state" ref="aa81510c900a1eba047d62d58f8f38fef" args="" -->
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acacd948150751c56d4f3ca21ff344c94"></a><!-- doxytag: member="co::Connection::_description" ref="acacd948150751c56d4f3ca21ff344c94" args="" -->
<a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#acacd948150751c56d4f3ca21ff344c94">_description</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection parameters. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1base_1_1Lock.html">base::Lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The lock used to protect multiple write calls.  <a href="#ade68541e3e0dd4cb7cfa79ee85170549"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>ReadStatus</b> { <b>READ_TIMEOUT</b> =  -2, 
<b>READ_ERROR</b> =  -1
 }</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Synchronous write to the connection</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a875aaa521f4360c51a9ababc392865bf">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message to multiple connections.  <a href="#a875aaa521f4360c51a9ababc392865bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#af7161e0a18de1835b5e5ad89ee2aaa90">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data to multiple connections.  <a href="#af7161e0a18de1835b5e5ad89ee2aaa90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool CO_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a7b156825ea3c4a5d5f97f7b3ed8fc7b2">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *const *items, const uint64_t *itemSizes, const size_t nItems)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional, multiple data items to multiple connections.  <a href="#a7b156825ea3c4a5d5f97f7b3ed8fc7b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">send</a> (const void *buffer, const uint64_t bytes, const bool isLocked=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data using the connection.  <a href="#a1d29eeca302db9b2b6dec50a50da9eb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965">lockSend</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the connection, no other thread can send data.  <a href="#a418aa2153555ac4c03ca274e2b5cf965"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6">unlockSend</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the connection.  <a href="#a7a12a19846a614d352f2fd8868194db6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send</a> (const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message using the connection.  <a href="#ac317067fca1e4fa7cc769849312f74ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::string &amp;string)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including a string using the connection.  <a href="#a905d882795668cc6ab8c509dd98ffe93"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a04fbc4ef10e8ec5fd33ba499cc4a5885">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data.  <a href="#a04fbc4ef10e8ec5fd33ba499cc4a5885"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a308a375e24ed11ad81cf61b5076f042d">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data using the connection.  <a href="#a308a375e24ed11ad81cf61b5076f042d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a19d0c9df49e4466b1599f3f22e16bf74">write</a> (const void *buffer, const uint64_t bytes)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the connection.  <a href="#a19d0c9df49e4466b1599f3f22e16bf74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7746a82ab57b42edbee5f98add491120"></a><!-- doxytag: member="co::Connection::finish" ref="a7746a82ab57b42edbee5f98add491120" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>finish</b> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An interface definition for communication between hosts. </p>
<p>Connections are stream-oriented point-to-point communications. The parameters of a <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> are described in a <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a>, which is used in <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a> and <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a>. A <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> has a State, which changes when calling <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a>, <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb" title="Close a connected or listening connection.">close()</a>, or whenever the underlying connection is closed by the operating system.</p>
<p>The <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> class defines the interface for connections, various derived classes implement it for various low-level communication protocols, e.g., SocketConnection for TCP/IP. An implementation may not implement all the functionality defined in this interface.</p>
<p>The <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> is used reference-counted in co, since it has multiple owners, such as the <a class="el" href="classco_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> and <a class="el" href="classco_1_1Node.html" title="Manages a node.">Node</a>. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00063">63</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43"></a><!-- doxytag: member="co::Connection::State" ref="ad6263ab2bfaa081884dd0a7d34a4df43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">co::Connection::State</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The current state of the <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c"></a><!-- doxytag: member="STATE_CLOSED" ref="ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c" args="" -->STATE_CLOSED</em>&nbsp;</td><td>
<p>Closed, initial state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43ad3c63eb66f6623ff2d5f460db6e08259"></a><!-- doxytag: member="STATE_CONNECTING" ref="ad6263ab2bfaa081884dd0a7d34a4df43ad3c63eb66f6623ff2d5f460db6e08259" args="" -->STATE_CONNECTING</em>&nbsp;</td><td>
<p>A <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a> is in progress. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3"></a><!-- doxytag: member="STATE_CONNECTED" ref="ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3" args="" -->STATE_CONNECTED</em>&nbsp;</td><td>
<p>The connection has been connected and is open. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694"></a><!-- doxytag: member="STATE_LISTENING" ref="ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694" args="" -->STATE_LISTENING</em>&nbsp;</td><td>
<p>The connection is listening for connects. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43a8a128bf2c7c80c0d64c77c46021ef2d5"></a><!-- doxytag: member="STATE_CLOSING" ref="ad6263ab2bfaa081884dd0a7d34a4df43a8a128bf2c7c80c0d64c77c46021ef2d5" args="" -->STATE_CLOSING</em>&nbsp;</td><td>
<p>A <a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb" title="Close a connected or listening connection.">close()</a> is in progress. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00066">66</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa770ca400361be45e38fe49c220df3fd"></a><!-- doxytag: member="co::Connection::acceptNB" ref="aa770ca400361be45e38fe49c220df3fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void co::Connection::acceptNB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start an accept operation. </p>
<p>This method returns immediately. The Notifier will signal a new connection request, upon which <a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a" title="Complete an accept operation.">acceptSync()</a> should be used to finish the accept operation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a" title="Complete an accept operation.">acceptSync()</a> </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00166">166</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d6d5b7070d58f849e2d875ff692455a"></a><!-- doxytag: member="co::Connection::acceptSync" ref="a8d6d5b7070d58f849e2d875ff692455a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionPtr</a> co::Connection::acceptSync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Complete an accept operation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new connection, 0 on error. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00173">173</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0b73910e1ab5eb1eb4bba6f93cf42a17"></a><!-- doxytag: member="co::Connection::addListener" ref="a0b73910e1ab5eb1eb4bba6f93cf42a17" args="(ConnectionListener *listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::Connection::addListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="a86dbe1ac7ecbc4baf1aa0427a9da1184"></a><!-- doxytag: member="co::Connection::connect" ref="a86dbe1ac7ecbc4baf1aa0427a9da1184" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool co::Connection::connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connect to the remote peer. </p>
<p>The <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the peer's parameters.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the connection was successfully connected, <code>false</code> if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00127">127</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1878e46b53111fe973c7f1c568024084"></a><!-- doxytag: member="co::Connection::create" ref="a1878e46b53111fe973c7f1c568024084" args="(ConnectionDescriptionPtr description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionPtr</a> co::Connection::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"><em>description</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new connection. </p>
<p>This factory method creates a new concrete connection for the requested type. The description is set on the created <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a58edf5d69591594aa8826c2aad2a59db"></a><!-- doxytag: member="co::Connection::getDescription" ref="a58edf5d69591594aa8826c2aad2a59db" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API <a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a> co::Connection::getDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the description for this connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a55c29bda54df50cb4bac0ce35b08db61"></a><!-- doxytag: member="co::Connection::getNotifier" ref="a55c29bda54df50cb4bac0ce35b08db61" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a> co::Connection::getNotifier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the notifier signaling events on the connection. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#ac0e6c63ec1950be126e9610128621783">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="abb14cb3ff5222062a7d2e68ac8a38c0a"></a><!-- doxytag: member="co::Connection::getState" ref="abb14cb3ff5222062a7d2e68ac8a38c0a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a> co::Connection::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>the State of this connection. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00090">90</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>.</p>

</div>
</div>
<a class="anchor" id="ae8aa84a77b1b7288d686b4b4a58bc611"></a><!-- doxytag: member="co::Connection::isClosed" ref="ae8aa84a77b1b7288d686b4b4a58bc611" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the closed state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00093">93</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c">STATE_CLOSED</a>.</p>

</div>
</div>
<a class="anchor" id="aa3467ce39ac68d2add5b9168676d66db"></a><!-- doxytag: member="co::Connection::isConnected" ref="aa3467ce39ac68d2add5b9168676d66db" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the connected state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00096">96</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3">STATE_CONNECTED</a>.</p>

</div>
</div>
<a class="anchor" id="a340c6fb3736456cb1f344da26588caae"></a><!-- doxytag: member="co::Connection::isListening" ref="a340c6fb3736456cb1f344da26588caae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::isListening </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection is in the listening state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00099">99</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694">STATE_LISTENING</a>.</p>

</div>
</div>
<a class="anchor" id="a4d0c190e88d3763666bbd9f6ffdc320b"></a><!-- doxytag: member="co::Connection::listen" ref="a4d0c190e88d3763666bbd9f6ffdc320b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool co::Connection::listen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put the connection into the listening state. </p>
<p>The <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the listening parameters.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if the connection is listening for new incoming connections, <code>false</code> if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00138">138</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a418aa2153555ac4c03ca274e2b5cf965"></a><!-- doxytag: member="co::Connection::lockSend" ref="a418aa2153555ac4c03ca274e2b5cf965" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::Connection::lockSend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock the connection, no other thread can send data. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00263">263</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a>, and <a class="el" href="classco_1_1base_1_1Lock.html#a558675567538ef32c771ad2bd942887f">co::base::Lock::set()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph.png" border="0" usemap="#classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph" alt=""/></div>
<map name="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph" id="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph">
<area shape="rect" id="node3" href="classco_1_1base_1_1Lock.html#a558675567538ef32c771ad2bd942887f" title="Acquire the lock." alt="" coords="237,5,379,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d51b4f926adc20c850ead432f8715c3"></a><!-- doxytag: member="co::Connection::readNB" ref="a9d51b4f926adc20c850ead432f8715c3" args="(void *buffer, const uint64_t bytes)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void co::Connection::readNB </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30" title="Start a read operation on the connection.">recvNB()</a>.</p>
<p>This function returns immediately. The operation's Notifier will signal data availability, upon which <a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> should be used to finish the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#a50f0c20955b166e912fec426c3e50cdc">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="a56c11cedd911361f2a3a4b989ddd08a7"></a><!-- doxytag: member="co::Connection::readSync" ref="a56c11cedd911361f2a3a4b989ddd08a7" args="(void *buffer, const uint64_t bytes, const bool block)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t co::Connection::readSync </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a>. It may return with a partial read.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, ignore it in the implementation unless you know exactly why not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#a8e2f52a08be7f835f757ec09a71ef3bb">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="aa108aa861672f7016a4abf0d8a365a30"></a><!-- doxytag: member="co::Connection::recvNB" ref="aa108aa861672f7016a4abf0d8a365a30" args="(void *buffer, const uint64_t bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::Connection::recvNB </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This function returns immediately. The Notifier will signal data availability, upon which <a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a> should be used to finish the operation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5ab2ef4b6d2a9af3c1af839b636bb2af"></a><!-- doxytag: member="co::Connection::recvSync" ref="a5ab2ef4b6d2a9af3c1af839b636bb2af" args="(void **buffer, uint64_t *bytes, const bool block=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::Connection::recvSync </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>block</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This function may block even if data availability was signaled, i.e., when only a part of the data requested has been received. The buffer and bytes return value pointers can be 0. This method uses <a class="el" href="classco_1_1Connection.html#a9d51b4f926adc20c850ead432f8715c3" title="Start a read operation on the connection.">readNB()</a> and <a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> to fill a buffer, potentially by using multiple reads.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>return value, the buffer pointer passed to <a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30" title="Start a read operation on the connection.">recvNB()</a>. </td></tr>
    <tr><td class="paramname">bytes</td><td>return value, the number of bytes read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, do not use unless you know exactly why. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all requested data has been read, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a340d6578ed0dd9c4462575b78e8b53e3"></a><!-- doxytag: member="co::Connection::removeListener" ref="a340d6578ed0dd9c4462575b78e8b53e3" args="(ConnectionListener *listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::Connection::removeListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="af7161e0a18de1835b5e5ad89ee2aaa90"></a><!-- doxytag: member="co::Connection::send" ref="af7161e0a18de1835b5e5ad89ee2aaa90" args="(const Connections &amp;connections, Packet &amp;packet, const void *data, const uint64_t size, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data to multiple connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="a7b156825ea3c4a5d5f97f7b3ed8fc7b2"></a><!-- doxytag: member="co::Connection::send" ref="a7b156825ea3c4a5d5f97f7b3ed8fc7b2" args="(const Connections &amp;connections, Packet &amp;packet, const void *const *items, const uint64_t *itemSizes, const size_t nItems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool CO_API co::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *const *&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>itemSizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional, multiple data items to multiple connections. </p>
<p>Automatically locks each individual connection during send. The data items are appended to the packet individually as a 8-byte size token followed by size bytes data. The packet.size is updated to the size of all data send (packet + sizes + items).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">items</td><td>a pointer array to the data items. </td></tr>
    <tr><td class="paramname">itemSizes</td><td>an array containing the size of each item. </td></tr>
    <tr><td class="paramname">nItems</td><td>the number of data elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="a1d29eeca302db9b2b6dec50a50da9eb5"></a><!-- doxytag: member="co::Connection::send" ref="a1d29eeca302db9b2b6dec50a50da9eb5" args="(const void *buffer, const uint64_t bytes, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send data using the connection. </p>
<p>A send may be performed using multiple <a class="el" href="classco_1_1Connection.html#a19d0c9df49e4466b1599f3f22e16bf74" title="Write data to the connection.">write()</a> operations. For thread-safe sending from multiple threads it is therefore crucial to protect the <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5" title="Send data using the connection.">send()</a> operation internally. If the connection is not already locked externally, it will use an internal mutex.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to send. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965" title="Lock the connection, no other thread can send data.">lockSend()</a>, <a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6" title="Unlock the connection.">unlockSend()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a905d882795668cc6ab8c509dd98ffe93"></a><!-- doxytag: member="co::Connection::send" ref="a905d882795668cc6ab8c509dd98ffe93" args="(Packet &amp;packet, const std::string &amp;string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including a string using the connection. </p>
<p>The packet has to define a 8-byte-aligned, 8-char string at the end of the packet. When the packet is sent the whole string is appended to the packet, so that the receiver has to do nothing special to receive and use the full packet.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">string</td><td>the string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00288">288</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send()</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph.png" border="0" usemap="#classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph" alt=""/></div>
<map name="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph" id="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph.png" border="0" usemap="#classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph" alt=""/></div>
<map name="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph" id="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a308a375e24ed11ad81cf61b5076f042d"></a><!-- doxytag: member="co::Connection::send" ref="a308a375e24ed11ad81cf61b5076f042d" args="(Packet &amp;packet, const void *data, const uint64_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data using the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="a875aaa521f4360c51a9ababc392865bf"></a><!-- doxytag: member="co::Connection::send" ref="a875aaa521f4360c51a9ababc392865bf" args="(const Connections &amp;connections, const Packet &amp;packet, const bool isLocked=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message to multiple connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was sent successfully to all connections. </dd></dl>

</div>
</div>
<a class="anchor" id="a04fbc4ef10e8ec5fd33ba499cc4a5885"></a><!-- doxytag: member="co::Connection::send" ref="a04fbc4ef10e8ec5fd33ba499cc4a5885" args="(Packet &amp;packet, const std::vector&lt; T &gt; &amp;data)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data. </p>
<p>The last item of the packet has to be able to hold one item or eight bytes of the data, whatever is bigger.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the vector containing the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00009">9</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac317067fca1e4fa7cc769849312f74ea"></a><!-- doxytag: member="co::Connection::send" ref="ac317067fca1e4fa7cc769849312f74ea" args="(const Packet &amp;packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool co::Connection::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message using the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00273">273</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send()</a>, and <a class="el" href="structco_1_1Packet.html#aff3724a8aba8cb0aae72be7940783b13">co::Packet::size</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send()</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph.png" border="0" usemap="#classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph" alt=""/></div>
<map name="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph" id="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph.png" border="0" usemap="#classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph" alt=""/></div>
<map name="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph" id="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab7dfa315b0f95e19732cad4f23f678e9"></a><!-- doxytag: member="co::Connection::setDescription" ref="ab7dfa315b0f95e19732cad4f23f678e9" args="(ConnectionDescriptionPtr description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::Connection::setDescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1base_1_1RefPtr.html">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"><em>description</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the connection parameter description. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a12a19846a614d352f2fd8868194db6"></a><!-- doxytag: member="co::Connection::unlockSend" ref="a7a12a19846a614d352f2fd8868194db6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::Connection::unlockSend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock the connection. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00265">265</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a>, and <a class="el" href="classco_1_1base_1_1Lock.html#aa3dc91d5d2bc018b8490d58f2aa13fbf">co::base::Lock::unset()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph.png" border="0" usemap="#classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph" alt=""/></div>
<map name="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph" id="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph">
<area shape="rect" id="node3" href="classco_1_1base_1_1Lock.html#aa3dc91d5d2bc018b8490d58f2aa13fbf" title="Release the lock." alt="" coords="253,5,411,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19d0c9df49e4466b1599f3f22e16bf74"></a><!-- doxytag: member="co::Connection::write" ref="a19d0c9df49e4466b1599f3f22e16bf74" args="(const void *buffer, const uint64_t bytes)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t co::Connection::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to the connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes written, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#ae891a6ececc54b504170326a201758f9">co::BufferConnection</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ade68541e3e0dd4cb7cfa79ee85170549"></a><!-- doxytag: member="co::Connection::_sendLock" ref="ade68541e3e0dd4cb7cfa79ee85170549" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1base_1_1Lock.html">base::Lock</a> <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">co::Connection::_sendLock</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The lock used to protect multiple write calls. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00398">398</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965">lockSend()</a>, and <a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6">unlockSend()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="connection_8h_source.html">connection.h</a></li>
<li><a class="el" href="connection_8ipp_source.html">connection.ipp</a></li>
</ul>
</div>
<address style="text-align: right;">
  <small>Generated on Sun May 8 2011 19:11:50 for 
    <a href="/index.html"><img src="/images/Collage.png" 
                               alt="Collage" align="middle" 
                               border="0"></a> 0.3 by&nbsp;
    <a href="http://www.doxygen.org/index.html">
      <img src="doxygen.png" alt="doxygen" align="middle" border="0">
    </a> 1.7.3 
  </small>
</address>
</body>
</html>

