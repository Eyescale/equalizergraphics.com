<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Collage: co::Connection Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Collage
   &#160;<span id="projectnumber">0.4.8</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceco.html">co</a>      </li>
      <li class="navelem"><a class="el" href="classco_1_1Connection.html">Connection</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-types">Protected Types</a>  </div>
  <div class="headertitle">
<div class="title">co::Connection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface definition for communication between hosts.  
 <a href="classco_1_1Connection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">connection.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for co::Connection:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection__inherit__graph.png" border="0" usemap="#co_1_1Connection_inherit__map" alt="Inheritance graph"/></div>
<map name="co_1_1Connection_inherit__map" id="co_1_1Connection_inherit__map">
<area shape="rect" id="node7" href="classco_1_1BufferConnection.html" title="A proxy connection buffering outgoing data into a memory region." alt="" coords="98,166,253,197"/><area shape="rect" id="node2" href="classco_1_1base_1_1Referenced.html" title="Base class for referenced objects." alt="" coords="5,6,160,37"/><area shape="rect" id="node4" href="classco_1_1base_1_1NonCopyable.html" title="Base class to make objects non&#45;copyable." alt="" coords="185,6,353,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for co::Connection:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection__coll__graph.png" border="0" usemap="#co_1_1Connection_coll__map" alt="Collaboration graph"/></div>
<map name="co_1_1Connection_coll__map" id="co_1_1Connection_coll__map">
<area shape="rect" id="node2" href="classco_1_1base_1_1Referenced.html" title="Base class for referenced objects." alt="" coords="297,5,453,32"/><area shape="rect" id="node4" href="classco_1_1base_1_1NonCopyable.html" title="Base class to make objects non&#45;copyable." alt="" coords="6,77,175,104"/><area shape="rect" id="node6" href="classco_1_1base_1_1Lock.html" title="A lock (mutex) primitive." alt="" coords="318,107,431,133"/><area shape="rect" id="node9" href="classco_1_1base_1_1RefPtr.html" title="co::base::RefPtr\&lt; ConnectionDescription \&gt;" alt="" coords="227,157,523,184"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classco_1_1Connection-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a55c29bda54df50cb4bac0ce35b08db61"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a55c29bda54df50cb4bac0ce35b08db61">getNotifier</a> () const =0</td></tr>
<tr class="memitem:a4ca35b8c5eefcdfb21a6f400bcd8dde1"><td class="memTemplParams" colspan="2"><a class="anchor" id="a4ca35b8c5eefcdfb21a6f400bcd8dde1"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a4ca35b8c5eefcdfb21a6f400bcd8dde1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>send</b> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Data Access</div></td></tr>
<tr class="memitem:abb14cb3ff5222062a7d2e68ac8a38c0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#abb14cb3ff5222062a7d2e68ac8a38c0a">getState</a> () const </td></tr>
<tr class="memitem:ae8aa84a77b1b7288d686b4b4a58bc611"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ae8aa84a77b1b7288d686b4b4a58bc611">isClosed</a> () const </td></tr>
<tr class="memitem:aa3467ce39ac68d2add5b9168676d66db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa3467ce39ac68d2add5b9168676d66db">isConnected</a> () const </td></tr>
<tr class="memitem:a340c6fb3736456cb1f344da26588caae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a340c6fb3736456cb1f344da26588caae">isListening</a> () const </td></tr>
<tr class="memitem:ab7dfa315b0f95e19732cad4f23f678e9"><td class="memItemLeft" align="right" valign="top">CO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ab7dfa315b0f95e19732cad4f23f678e9">setDescription</a> (<a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a> description)</td></tr>
<tr class="memdesc:ab7dfa315b0f95e19732cad4f23f678e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the connection parameter description.  <a href="#ab7dfa315b0f95e19732cad4f23f678e9"></a><br/></td></tr>
<tr class="memitem:a58edf5d69591594aa8826c2aad2a59db"><td class="memItemLeft" align="right" valign="top">CO_API <a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a58edf5d69591594aa8826c2aad2a59db">getDescription</a> () const </td></tr>
<tr class="memitem:a612510c2b6ab6e1a118d978bf698e774"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a612510c2b6ab6e1a118d978bf698e774"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const <a class="el" href="classco_1_1Connection.html">Connection</a> &amp;rhs) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Connection State Changes</div></td></tr>
<tr class="memitem:a86dbe1ac7ecbc4baf1aa0427a9da1184"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184">connect</a> ()</td></tr>
<tr class="memdesc:a86dbe1ac7ecbc4baf1aa0427a9da1184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the remote peer.  <a href="#a86dbe1ac7ecbc4baf1aa0427a9da1184"></a><br/></td></tr>
<tr class="memitem:a4d0c190e88d3763666bbd9f6ffdc320b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b">listen</a> ()</td></tr>
<tr class="memdesc:a4d0c190e88d3763666bbd9f6ffdc320b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the connection into the listening state.  <a href="#a4d0c190e88d3763666bbd9f6ffdc320b"></a><br/></td></tr>
<tr class="memitem:a539fe42f7056fb3932139f3e95b050fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a539fe42f7056fb3932139f3e95b050fb"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb">close</a> ()</td></tr>
<tr class="memdesc:a539fe42f7056fb3932139f3e95b050fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a connected or listening connection. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Listener Interface</div></td></tr>
<tr class="memitem:a0b73910e1ab5eb1eb4bba6f93cf42a17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a0b73910e1ab5eb1eb4bba6f93cf42a17">addListener</a> (<a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr class="memdesc:a0b73910e1ab5eb1eb4bba6f93cf42a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener for connection state changes.  <a href="#a0b73910e1ab5eb1eb4bba6f93cf42a17"></a><br/></td></tr>
<tr class="memitem:a340d6578ed0dd9c4462575b78e8b53e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a340d6578ed0dd9c4462575b78e8b53e3">removeListener</a> (<a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *listener)</td></tr>
<tr class="memdesc:a340d6578ed0dd9c4462575b78e8b53e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a listener for connection state changes.  <a href="#a340d6578ed0dd9c4462575b78e8b53e3"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous accept</div></td></tr>
<tr class="memitem:aa770ca400361be45e38fe49c220df3fd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa770ca400361be45e38fe49c220df3fd">acceptNB</a> ()</td></tr>
<tr class="memdesc:aa770ca400361be45e38fe49c220df3fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an accept operation.  <a href="#aa770ca400361be45e38fe49c220df3fd"></a><br/></td></tr>
<tr class="memitem:a8d6d5b7070d58f849e2d875ff692455a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceco.html#a393cee488e7d367657a94ac5516b3df2">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a">acceptSync</a> ()</td></tr>
<tr class="memdesc:a8d6d5b7070d58f849e2d875ff692455a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete an accept operation.  <a href="#a8d6d5b7070d58f849e2d875ff692455a"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Asynchronous read</div></td></tr>
<tr class="memitem:aa108aa861672f7016a4abf0d8a365a30"><td class="memItemLeft" align="right" valign="top">CO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30">recvNB</a> (void *buffer, const uint64_t bytes)</td></tr>
<tr class="memdesc:aa108aa861672f7016a4abf0d8a365a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#aa108aa861672f7016a4abf0d8a365a30"></a><br/></td></tr>
<tr class="memitem:a5ab2ef4b6d2a9af3c1af839b636bb2af"><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af">recvSync</a> (void **buffer, uint64_t *bytes, const bool block=true)</td></tr>
<tr class="memdesc:a5ab2ef4b6d2a9af3c1af839b636bb2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a5ab2ef4b6d2a9af3c1af839b636bb2af"></a><br/></td></tr>
<tr class="memitem:ad8a4681d9a76c2de7e9a96c63d5b3763"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8a4681d9a76c2de7e9a96c63d5b3763"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getRecvData</b> (void **buffer, uint64_t *bytes)</td></tr>
<tr class="memitem:a9d51b4f926adc20c850ead432f8715c3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a9d51b4f926adc20c850ead432f8715c3">readNB</a> (void *buffer, const uint64_t bytes)=0</td></tr>
<tr class="memdesc:a9d51b4f926adc20c850ead432f8715c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a read operation on the connection.  <a href="#a9d51b4f926adc20c850ead432f8715c3"></a><br/></td></tr>
<tr class="memitem:a56c11cedd911361f2a3a4b989ddd08a7"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7">readSync</a> (void *buffer, const uint64_t bytes, const bool block)=0</td></tr>
<tr class="memdesc:a56c11cedd911361f2a3a4b989ddd08a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading data from the connection.  <a href="#a56c11cedd911361f2a3a4b989ddd08a7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1878e46b53111fe973c7f1c568024084"><td class="memItemLeft" align="right" valign="top">static CO_API <a class="el" href="namespaceco.html#a393cee488e7d367657a94ac5516b3df2">ConnectionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a1878e46b53111fe973c7f1c568024084">create</a> (<a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a> description)</td></tr>
<tr class="memdesc:a1878e46b53111fe973c7f1c568024084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection.  <a href="#a1878e46b53111fe973c7f1c568024084"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad6263ab2bfaa081884dd0a7d34a4df43"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a> { <br/>
&#160;&#160;<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c">STATE_CLOSED</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43ad3c63eb66f6623ff2d5f460db6e08259">STATE_CONNECTING</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3">STATE_CONNECTED</a>, 
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694">STATE_LISTENING</a>, 
<br/>
&#160;&#160;<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a8a128bf2c7c80c0d64c77c46021ef2d5">STATE_CLOSING</a>
<br/>
 }</td></tr>
<tr class="memdesc:ad6263ab2bfaa081884dd0a7d34a4df43"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current state of the <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>.  <a href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">More...</a><br/></td></tr>
<tr class="memitem:a85ae0b69f0dc3996ae79809fa21703f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85ae0b69f0dc3996ae79809fa21703f6"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a></td></tr>
<tr class="memdesc:a85ae0b69f0dc3996ae79809fa21703f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Notifier used by the <a class="el" href="classco_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> to detect readiness of a <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa94021ce537c08300aab8e68284f2fd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa94021ce537c08300aab8e68284f2fd2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_fireStateChanged</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa81510c900a1eba047d62d58f8f38fef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa81510c900a1eba047d62d58f8f38fef"></a>
<a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a></td></tr>
<tr class="memdesc:aa81510c900a1eba047d62d58f8f38fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection state. <br/></td></tr>
<tr class="memitem:acacd948150751c56d4f3ca21ff344c94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acacd948150751c56d4f3ca21ff344c94"></a>
<a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#acacd948150751c56d4f3ca21ff344c94">_description</a></td></tr>
<tr class="memdesc:acacd948150751c56d4f3ca21ff344c94"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection parameters. <br/></td></tr>
<tr class="memitem:ade68541e3e0dd4cb7cfa79ee85170549"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1base_1_1Lock.html">base::Lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a></td></tr>
<tr class="memdesc:ade68541e3e0dd4cb7cfa79ee85170549"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lock used to protect multiple write calls.  <a href="#ade68541e3e0dd4cb7cfa79ee85170549"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a36295964184291d799883c4ec31875a7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>ReadStatus</b> { <b>READ_TIMEOUT</b> =  -2, 
<b>READ_ERROR</b> =  -1
 }</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Synchronous write to the connection</h2></td></tr>
<tr class="memitem:a875aaa521f4360c51a9ababc392865bf"><td class="memItemLeft" align="right" valign="top">static CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a875aaa521f4360c51a9ababc392865bf">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const bool isLocked=false)</td></tr>
<tr class="memdesc:a875aaa521f4360c51a9ababc392865bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message to multiple connections.  <a href="#a875aaa521f4360c51a9ababc392865bf"></a><br/></td></tr>
<tr class="memitem:af7161e0a18de1835b5e5ad89ee2aaa90"><td class="memItemLeft" align="right" valign="top">static CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#af7161e0a18de1835b5e5ad89ee2aaa90">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size, const bool isLocked=false)</td></tr>
<tr class="memdesc:af7161e0a18de1835b5e5ad89ee2aaa90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data to multiple connections.  <a href="#af7161e0a18de1835b5e5ad89ee2aaa90"></a><br/></td></tr>
<tr class="memitem:a7b156825ea3c4a5d5f97f7b3ed8fc7b2"><td class="memItemLeft" align="right" valign="top">static bool CO_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a7b156825ea3c4a5d5f97f7b3ed8fc7b2">send</a> (const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;connections, <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *const *items, const uint64_t *itemSizes, const size_t nItems)</td></tr>
<tr class="memdesc:a7b156825ea3c4a5d5f97f7b3ed8fc7b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional, multiple data items to multiple connections.  <a href="#a7b156825ea3c4a5d5f97f7b3ed8fc7b2"></a><br/></td></tr>
<tr class="memitem:a1d29eeca302db9b2b6dec50a50da9eb5"><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">send</a> (const void *buffer, const uint64_t bytes, const bool isLocked=false)</td></tr>
<tr class="memdesc:a1d29eeca302db9b2b6dec50a50da9eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data using the connection.  <a href="#a1d29eeca302db9b2b6dec50a50da9eb5"></a><br/></td></tr>
<tr class="memitem:a418aa2153555ac4c03ca274e2b5cf965"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965">lockSend</a> () const </td></tr>
<tr class="memdesc:a418aa2153555ac4c03ca274e2b5cf965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the connection, no other thread can send data.  <a href="#a418aa2153555ac4c03ca274e2b5cf965"></a><br/></td></tr>
<tr class="memitem:a7a12a19846a614d352f2fd8868194db6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6">unlockSend</a> () const </td></tr>
<tr class="memdesc:a7a12a19846a614d352f2fd8868194db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the connection.  <a href="#a7a12a19846a614d352f2fd8868194db6"></a><br/></td></tr>
<tr class="memitem:ac317067fca1e4fa7cc769849312f74ea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send</a> (const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet)</td></tr>
<tr class="memdesc:ac317067fca1e4fa7cc769849312f74ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message using the connection.  <a href="#ac317067fca1e4fa7cc769849312f74ea"></a><br/></td></tr>
<tr class="memitem:a905d882795668cc6ab8c509dd98ffe93"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::string &amp;string)</td></tr>
<tr class="memdesc:a905d882795668cc6ab8c509dd98ffe93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including a string using the connection.  <a href="#a905d882795668cc6ab8c509dd98ffe93"></a><br/></td></tr>
<tr class="memitem:a4ca35b8c5eefcdfb21a6f400bcd8dde1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a4ca35b8c5eefcdfb21a6f400bcd8dde1"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a4ca35b8c5eefcdfb21a6f400bcd8dde1">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const std::vector&lt; T &gt; &amp;data)</td></tr>
<tr class="memdesc:a4ca35b8c5eefcdfb21a6f400bcd8dde1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data.  <a href="#a4ca35b8c5eefcdfb21a6f400bcd8dde1"></a><br/></td></tr>
<tr class="memitem:a308a375e24ed11ad81cf61b5076f042d"><td class="memItemLeft" align="right" valign="top">CO_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a308a375e24ed11ad81cf61b5076f042d">send</a> (<a class="el" href="structco_1_1Packet.html">Packet</a> &amp;packet, const void *data, const uint64_t size)</td></tr>
<tr class="memdesc:a308a375e24ed11ad81cf61b5076f042d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packaged message including additional data using the connection.  <a href="#a308a375e24ed11ad81cf61b5076f042d"></a><br/></td></tr>
<tr class="memitem:a19d0c9df49e4466b1599f3f22e16bf74"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1Connection.html#a19d0c9df49e4466b1599f3f22e16bf74">write</a> (const void *buffer, const uint64_t bytes)=0</td></tr>
<tr class="memdesc:a19d0c9df49e4466b1599f3f22e16bf74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the connection.  <a href="#a19d0c9df49e4466b1599f3f22e16bf74"></a><br/></td></tr>
<tr class="memitem:a7746a82ab57b42edbee5f98add491120"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7746a82ab57b42edbee5f98add491120"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>finish</b> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An interface definition for communication between hosts. </p>
<p>Connections are stream-oriented point-to-point communications. The parameters of a <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> are described in a <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a>, which is used in <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a> and <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a>. A <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> has a State, which changes when calling <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a>, <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb" title="Close a connected or listening connection.">close()</a>, or whenever the underlying connection is closed by the operating system.</p>
<p>The <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> class defines the interface for connections, various derived classes implement it for various low-level communication protocols, e.g., SocketConnection for TCP/IP. An implementation may not implement all the functionality defined in this interface.</p>
<p>The <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a> is used reference-counted in co, since it has multiple owners, such as the <a class="el" href="classco_1_1ConnectionSet.html" title="A set of connections.">ConnectionSet</a> and <a class="el" href="classco_1_1Node.html" title="Manages a node.">Node</a>. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00063">63</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">co::Connection::State</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The current state of the <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c"></a>STATE_CLOSED</em>&nbsp;</td><td>
<p>Closed, initial state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43ad3c63eb66f6623ff2d5f460db6e08259"></a>STATE_CONNECTING</em>&nbsp;</td><td>
<p>A <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184" title="Connect to the remote peer.">connect()</a> or <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b" title="Put the connection into the listening state.">listen()</a> is in progress. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3"></a>STATE_CONNECTED</em>&nbsp;</td><td>
<p>The connection has been connected and is open. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694"></a>STATE_LISTENING</em>&nbsp;</td><td>
<p>The connection is listening for connects. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad6263ab2bfaa081884dd0a7d34a4df43a8a128bf2c7c80c0d64c77c46021ef2d5"></a>STATE_CLOSING</em>&nbsp;</td><td>
<p>A <a class="el" href="classco_1_1Connection.html#a539fe42f7056fb3932139f3e95b050fb" title="Close a connected or listening connection.">close()</a> is in progress. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00066">66</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa770ca400361be45e38fe49c220df3fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classco_1_1Connection.html#aa770ca400361be45e38fe49c220df3fd">co::Connection::acceptNB</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start an accept operation. </p>
<p>This method returns immediately. The Notifier will signal a new connection request, upon which <a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a" title="Complete an accept operation.">acceptSync()</a> should be used to finish the accept operation.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a" title="Complete an accept operation.">acceptSync()</a> </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00166">166</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d6d5b7070d58f849e2d875ff692455a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespaceco.html#a393cee488e7d367657a94ac5516b3df2">ConnectionPtr</a> <a class="el" href="classco_1_1Connection.html#a8d6d5b7070d58f849e2d875ff692455a">co::Connection::acceptSync</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Complete an accept operation. </p>
<dl class="section return"><dt>Returns:</dt><dd>the new connection, 0 on error. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00173">173</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0b73910e1ab5eb1eb4bba6f93cf42a17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classco_1_1Connection.html#a0b73910e1ab5eb1eb4bba6f93cf42a17">co::Connection::addListener</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="a86dbe1ac7ecbc4baf1aa0427a9da1184"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classco_1_1Connection.html#a86dbe1ac7ecbc4baf1aa0427a9da1184">co::Connection::connect</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connect to the remote peer. </p>
<p>The <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the peer's parameters.</p>
<dl class="section return"><dt>Returns:</dt><dd><code>true</code> if the connection was successfully connected, <code>false</code> if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00127">127</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1878e46b53111fe973c7f1c568024084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API <a class="el" href="namespaceco.html#a393cee488e7d367657a94ac5516b3df2">ConnectionPtr</a> <a class="el" href="classco_1_1Connection.html#a1878e46b53111fe973c7f1c568024084">co::Connection::create</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"><em>description</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new connection. </p>
<p>This factory method creates a new concrete connection for the requested type. The description is set on the created <a class="el" href="classco_1_1Connection.html" title="An interface definition for communication between hosts.">Connection</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a58edf5d69591594aa8826c2aad2a59db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API <a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a> <a class="el" href="classco_1_1Connection.html#a58edf5d69591594aa8826c2aad2a59db">co::Connection::getDescription</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>the description for this connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a55c29bda54df50cb4bac0ce35b08db61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classco_1_1Connection.html#a85ae0b69f0dc3996ae79809fa21703f6">Notifier</a> <a class="el" href="classco_1_1Connection.html#a55c29bda54df50cb4bac0ce35b08db61">co::Connection::getNotifier</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>the notifier signaling events on the connection. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#ac0e6c63ec1950be126e9610128621783">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="abb14cb3ff5222062a7d2e68ac8a38c0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43">State</a> <a class="el" href="classco_1_1Connection.html#abb14cb3ff5222062a7d2e68ac8a38c0a">co::Connection::getState</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>the State of this connection. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00090">90</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>.</p>

</div>
</div>
<a class="anchor" id="ae8aa84a77b1b7288d686b4b4a58bc611"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#ae8aa84a77b1b7288d686b4b4a58bc611">co::Connection::isClosed</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>true if the connection is in the closed state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00093">93</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43a58fa21b18ae8fbb4c9b0425ffe41646c">STATE_CLOSED</a>.</p>

</div>
</div>
<a class="anchor" id="aa3467ce39ac68d2add5b9168676d66db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#aa3467ce39ac68d2add5b9168676d66db">co::Connection::isConnected</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>true if the connection is in the connected state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00096">96</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43abd4a6387bed8dc64c3f0a5c4238a25e3">STATE_CONNECTED</a>.</p>

</div>
</div>
<a class="anchor" id="a340c6fb3736456cb1f344da26588caae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#a340c6fb3736456cb1f344da26588caae">co::Connection::isListening</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>true if the connection is in the listening state. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00099">99</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#aa81510c900a1eba047d62d58f8f38fef">_state</a>, and <a class="el" href="classco_1_1Connection.html#ad6263ab2bfaa081884dd0a7d34a4df43aa9d1cc97507d378290e64f916badb694">STATE_LISTENING</a>.</p>

</div>
</div>
<a class="anchor" id="a4d0c190e88d3763666bbd9f6ffdc320b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classco_1_1Connection.html#a4d0c190e88d3763666bbd9f6ffdc320b">co::Connection::listen</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put the connection into the listening state. </p>
<p>The <a class="el" href="classco_1_1ConnectionDescription.html" title="Describes Connection parameters.">ConnectionDescription</a> of this connection is used to identify the listening parameters.</p>
<dl class="section return"><dt>Returns:</dt><dd><code>true</code> if the connection is listening for new incoming connections, <code>false</code> if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00138">138</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a418aa2153555ac4c03ca274e2b5cf965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965">co::Connection::lockSend</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock the connection, no other thread can send data. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00263">263</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a>, and <a class="el" href="classco_1_1base_1_1Lock.html#a558675567538ef32c771ad2bd942887f">co::base::Lock::set()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph.png" border="0" usemap="#classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph" alt=""/></div>
<map name="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph" id="classco_1_1Connection_a418aa2153555ac4c03ca274e2b5cf965_cgraph">
<area shape="rect" id="node3" href="classco_1_1base_1_1Lock.html#a558675567538ef32c771ad2bd942887f" title="Acquire the lock." alt="" coords="237,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d51b4f926adc20c850ead432f8715c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classco_1_1Connection.html#a9d51b4f926adc20c850ead432f8715c3">co::Connection::readNB</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30" title="Start a read operation on the connection.">recvNB()</a>.</p>
<p>This function returns immediately. The operation's Notifier will signal data availability, upon which <a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> should be used to finish the operation.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#a50f0c20955b166e912fec426c3e50cdc">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="a56c11cedd911361f2a3a4b989ddd08a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t <a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7">co::Connection::readSync</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This method is the low-level counterpart to <a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a>. It may return with a partial read.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, ignore it in the implementation unless you know exactly why not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the number of bytes read, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#a8e2f52a08be7f835f757ec09a71ef3bb">co::BufferConnection</a>.</p>

</div>
</div>
<a class="anchor" id="aa108aa861672f7016a4abf0d8a365a30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void <a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30">co::Connection::recvNB</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a read operation on the connection. </p>
<p>This function returns immediately. The Notifier will signal data availability, upon which <a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a> should be used to finish the operation.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer receiving the data. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af" title="Finish reading data from the connection.">recvSync()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5ab2ef4b6d2a9af3c1af839b636bb2af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool <a class="el" href="classco_1_1Connection.html#a5ab2ef4b6d2a9af3c1af839b636bb2af">co::Connection::recvSync</a> </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>block</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish reading data from the connection. </p>
<p>This function may block even if data availability was signaled, i.e., when only a part of the data requested has been received. The buffer and bytes return value pointers can be 0. This method uses <a class="el" href="classco_1_1Connection.html#a9d51b4f926adc20c850ead432f8715c3" title="Start a read operation on the connection.">readNB()</a> and <a class="el" href="classco_1_1Connection.html#a56c11cedd911361f2a3a4b989ddd08a7" title="Finish reading data from the connection.">readSync()</a> to fill a buffer, potentially by using multiple reads.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>return value, the buffer pointer passed to <a class="el" href="classco_1_1Connection.html#aa108aa861672f7016a4abf0d8a365a30" title="Start a read operation on the connection.">recvNB()</a>. </td></tr>
    <tr><td class="paramname">bytes</td><td>return value, the number of bytes read. </td></tr>
    <tr><td class="paramname">block</td><td>internal WAR parameter, do not use unless you know exactly why. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all requested data has been read, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a340d6578ed0dd9c4462575b78e8b53e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classco_1_1Connection.html#a340d6578ed0dd9c4462575b78e8b53e3">co::Connection::removeListener</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1ConnectionListener.html">ConnectionListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a listener for connection state changes. </p>

</div>
</div>
<a class="anchor" id="a1d29eeca302db9b2b6dec50a50da9eb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send data using the connection. </p>
<p>A send may be performed using multiple <a class="el" href="classco_1_1Connection.html#a19d0c9df49e4466b1599f3f22e16bf74" title="Write data to the connection.">write()</a> operations. For thread-safe sending from multiple threads it is therefore crucial to protect the <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5" title="Send data using the connection.">send()</a> operation internally. If the connection is not already locked externally, it will use an internal mutex.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to send. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all data has been read, false if not. </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965" title="Lock the connection, no other thread can send data.">lockSend()</a>, <a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6" title="Unlock the connection.">unlockSend()</a> </dd></dl>

<p>Referenced by <a class="el" href="classco_1_1Node.html#ac0e063fb45caad8d30a96563cb197c72">co::Node::multicast()</a>, and <a class="el" href="classco_1_1Node.html#a715a9c1589249b567a0e4f8977ca2c29">co::Node::send()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a1d29eeca302db9b2b6dec50a50da9eb5_icgraph.png" border="0" usemap="#classco_1_1Connection_a1d29eeca302db9b2b6dec50a50da9eb5_icgraph" alt=""/></div>
<map name="classco_1_1Connection_a1d29eeca302db9b2b6dec50a50da9eb5_icgraph" id="classco_1_1Connection_a1d29eeca302db9b2b6dec50a50da9eb5_icgraph">
<area shape="rect" id="node3" href="classco_1_1Node.html#ac0e063fb45caad8d30a96563cb197c72" title="Multicasts a packet to the multicast group of this node." alt="" coords="211,5,357,32"/><area shape="rect" id="node5" href="classco_1_1Node.html#a715a9c1589249b567a0e4f8977ca2c29" title="Sends a packet to this node." alt="" coords="225,56,343,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac317067fca1e4fa7cc769849312f74ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message using the connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00273">273</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send()</a>, and <a class="el" href="structco_1_1Packet.html#aff3724a8aba8cb0aae72be7940783b13">co::Packet::size</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#ac317067fca1e4fa7cc769849312f74ea">send()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph.png" border="0" usemap="#classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_cgraph" alt=""/></div>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph.png" border="0" usemap="#classco_1_1Connection_ac317067fca1e4fa7cc769849312f74ea_icgraph" alt=""/></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a905d882795668cc6ab8c509dd98ffe93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including a string using the connection. </p>
<p>The packet has to define a 8-byte-aligned, 8-char string at the end of the packet. When the packet is sent the whole string is appended to the packet, so that the receiver has to do nothing special to receive and use the full packet.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">string</td><td>the string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00288">288</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send()</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#a905d882795668cc6ab8c509dd98ffe93">send()</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph.png" border="0" usemap="#classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_cgraph" alt=""/></div>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph.png" border="0" usemap="#classco_1_1Connection_a905d882795668cc6ab8c509dd98ffe93_icgraph" alt=""/></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ca35b8c5eefcdfb21a6f400bcd8dde1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data. </p>
<p>The last item of the packet has to be able to hold one item or eight bytes of the data, whatever is bigger.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the vector containing the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all data has been read, false if not. </dd></dl>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00009">9</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

</div>
</div>
<a class="anchor" id="a308a375e24ed11ad81cf61b5076f042d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data using the connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if all data has been read, false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="a875aaa521f4360c51a9ababc392865bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message to multiple connections. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if the packet was sent successfully to all connections. </dd></dl>

</div>
</div>
<a class="anchor" id="af7161e0a18de1835b5e5ad89ee2aaa90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static CO_API bool <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isLocked</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional data to multiple connections. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">size</td><td>the data size in bytes. </td></tr>
    <tr><td class="paramname">isLocked</td><td>true if the connection is locked externally. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="a7b156825ea3c4a5d5f97f7b3ed8fc7b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool CO_API <a class="el" href="classco_1_1Connection.html#a1d29eeca302db9b2b6dec50a50da9eb5">co::Connection::send</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceco.html#a33f9994b4ed5425f2f45f32fa41e3091">Connections</a> &amp;&#160;</td>
          <td class="paramname"><em>connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structco_1_1Packet.html">Packet</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *const *&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>itemSizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a packaged message including additional, multiple data items to multiple connections. </p>
<p>Automatically locks each individual connection during send. The data items are appended to the packet individually as a 8-byte size token followed by size bytes data. The packet.size is updated to the size of all data send (packet + sizes + items).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connections</td><td>The connections. </td></tr>
    <tr><td class="paramname">packet</td><td>the message packet. </td></tr>
    <tr><td class="paramname">items</td><td>a pointer array to the data items. </td></tr>
    <tr><td class="paramname">itemSizes</td><td>an array containing the size of each item. </td></tr>
    <tr><td class="paramname">nItems</td><td>the number of data elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if the packet was sent successfully to all receivers. </dd></dl>

</div>
</div>
<a class="anchor" id="ab7dfa315b0f95e19732cad4f23f678e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void <a class="el" href="classco_1_1Connection.html#ab7dfa315b0f95e19732cad4f23f678e9">co::Connection::setDescription</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceco.html#a9447f627b33dcd20c5bf18d10e11f948">ConnectionDescriptionPtr</a>&#160;</td>
          <td class="paramname"><em>description</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the connection parameter description. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">description</td><td>the connection parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a12a19846a614d352f2fd8868194db6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6">co::Connection::unlockSend</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock the connection. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00265">265</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>References <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">_sendLock</a>, and <a class="el" href="classco_1_1base_1_1Lock.html#aa3dc91d5d2bc018b8490d58f2aa13fbf">co::base::Lock::unset()</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph.png" border="0" usemap="#classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph" alt=""/></div>
<map name="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph" id="classco_1_1Connection_a7a12a19846a614d352f2fd8868194db6_cgraph">
<area shape="rect" id="node3" href="classco_1_1base_1_1Lock.html#aa3dc91d5d2bc018b8490d58f2aa13fbf" title="Release the lock." alt="" coords="253,5,411,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19d0c9df49e4466b1599f3f22e16bf74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t <a class="el" href="classco_1_1Connection.html#a19d0c9df49e4466b1599f3f22e16bf74">co::Connection::write</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to the connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the message. </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the number of bytes written, or -1 upon error. </dd></dl>

<p>Implemented in <a class="el" href="classco_1_1BufferConnection.html#ae891a6ececc54b504170326a201758f9">co::BufferConnection</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ade68541e3e0dd4cb7cfa79ee85170549"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1base_1_1Lock.html">base::Lock</a> <a class="el" href="classco_1_1Connection.html#ade68541e3e0dd4cb7cfa79ee85170549">co::Connection::_sendLock</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The lock used to protect multiple write calls. </p>

<p>Definition at line <a class="el" href="connection_8h_source.html#l00398">398</a> of file <a class="el" href="connection_8h_source.html">connection.h</a>.</p>

<p>Referenced by <a class="el" href="classco_1_1Connection.html#a418aa2153555ac4c03ca274e2b5cf965">lockSend()</a>, and <a class="el" href="classco_1_1Connection.html#a7a12a19846a614d352f2fd8868194db6">unlockSend()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="connection_8h_source.html">connection.h</a></li>
<li><a class="el" href="connection_8ipp_source.html">connection.ipp</a></li>
</ul>
</div><!-- contents -->
<address style="text-align: right;">
  <small>Generated on Fri Jun 8 2012 15:44:09 for 
    <a href="/index.html"><img src="/images/Equalizer-doxygen.png" 
                               alt="Collage" align="middle" 
                               border="0"></a> 0.4.8 by&nbsp;
    <a href="http://www.doxygen.org/index.html">
      <img src="doxygen.png" alt="doxygen" align="middle" border="0">
    </a> 1.8.0 
  </small>
</address>
</body>
</html>

